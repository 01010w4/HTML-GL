<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>HTML GL demo</title>
</head>
<body>
    <h1>HTML GL demo</h1>
    <webgl>
        This layer is rendered in WebGL because it have tag name webgl
    </webgl>
    <button onclick="window.changeNodeContent()">Change layer content</button>
    <button onclick="window.changeNodeTransform()">Change layer transform</button>
    <button onclick="window.animate()">Animate WebGL layer</button>
    <h2>
        TODO
    </h2>
    <ul>
        <li>Redefine element.style.transform property in order to pass it to webgl renderer</li>
        <li>Rerender only if content changed in order to decrease CPU/GPU load</li>
        <li>Add retina support in order to avoid blurry content</li>
    </ul>
    <script src="./js/vendor/velocity.js"></script>
    <script src="./js/vendor/html2canvas.js"></script>
    <script src="../bower_components/imagesloaded/imagesloaded.pkgd.js"></script>
    <script src="../bower_components/pixi/bin/pixi.dev.js"></script>
    <script src="../src/rasterized-element.js"></script>
    <script src="../src/htmlgl.js"></script>
    <script>
        window.changeNodeContent = function(){
            document.getElementsByTagName('webgl')[0].textContent = 'This is a new content. It is still selectable via dev tools inspector pointer, affects HTML layout and is rendered via WebGL.';
        }

        window.changeNodeTransform = function(){
            var element = document.getElementsByTagName('webgl')[0];
            element.style.webkitTransform = 'scale(1.1) rotateY(7deg) translateX(100px) translateY(100px)';
            element.style.transform = 'scale(1.1) rotateY(7deg) translateX(100px) translateY(100px)';
        }

        window.animate = function(){
            Velocity(document.getElementsByTagName('webgl')[0], { translateX: 100, translateY: 100 }, { duration: 1000 });
        }
    </script>
</body>
</html>